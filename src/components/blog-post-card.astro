---
import type { CollectionEntry } from "astro:content";
import { formatDate } from "../utils";
import LinkCard from "./link-card.astro";

type Props = { post: CollectionEntry<"blog"> };
const { post } = Astro.props;
const { remarkPluginFrontmatter } = await post.render();
---

<LinkCard href={`/blog/${post.slug}`}>
  <p class="text-2xl" style="text-wrap: balance;">
    {post.data.title}
  </p>
  <p class="text-zinc-600 dark:text-zinc-400 text-sm pb-2">
    {formatDate(post.data.date)} Â· {
      remarkPluginFrontmatter.minutesRead.split(" ")[0]
    } min read
  </p>
  <p class="text-zinc-600 dark:text-zinc-400 line-clamp-3">
    {post.body.split(" ").slice(0, 80).join(" ")}
  </p>
</LinkCard>
