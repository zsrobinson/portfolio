---
import { getCollection } from "astro:content";
import BlogPostCard from "../components/blog-post-card.astro";
import ProjectCard from "../components/project-card.astro";
import Root from "../layouts/root.astro";

let posts = await getCollection("blog");
posts.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
posts = posts.slice(0, 4);
---

<Root title="Zachary Robinson">
  <div class="flex justify-between gap-8 relative items-center">
    <div>
      <p class="font-handwriting font-bold text-5xl mb-2">Hey There! 👋🏻</p>
      <p class="mb-4">
        My name's Zach! I'm a rising freshman at the University of Maryland,
        studying Computer Science. I love all things tech, and I'm especially
        interested in full-stack web development.
      </p>
    </div>

    <img
      src="https://avatars.githubusercontent.com/zsrobinson"
      alt="my profile picture"
      class="w-48 rounded-full m-4 peer hidden sm:block"
    />
    <img
      src="https://avatars.githubusercontent.com/zsrobinson"
      alt="my profile picture"
      class="hidden sm:block absolute right-0 w-48 rounded-full blur-lg -z-10 m-4 peer-hover:blur-xl transition"
    />
  </div>

  <div class="my-8 flex flex-col">
    <h2 class="text-3xl font-handwriting pb-4 font-bold">Latest Blog Posts</h2>
    <div class="flex flex-col sm:grid grid-cols-2 gap-4">
      {posts.map((post) => <BlogPostCard post={post} />)}
    </div>
  </div>

  <div class="my-8 flex flex-col">
    <h2 class="text-3xl font-handwriting pb-4 font-bold">Featured Projects</h2>
    <div class="flex flex-col sm:grid grid-cols-2 gap-4">
      <ProjectCard project="astro-blog" />
      <ProjectCard project="curvature-demo" />
      <ProjectCard project="pendulum-sim" />
      <ProjectCard project="circular-sleep" />
    </div>
  </div>
</Root>
